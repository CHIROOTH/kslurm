#!/usr/bin/env python
import sys, subprocess
try:
    from colorama import Fore
except:
    from colors import Fore

from slurm_args import SlurmCommand

if __name__ == "__main__":

    slurm = SlurmCommand(sys.argv[1:])
    command = slurm.command if slurm.command else f"{Fore.RED}Must provide a command"

    print(f"""
    {Fore.GREEN}Scheduling Batch Command
        {Fore.LIGHTBLUE_EX}SETTINGS
            {Fore.WHITE}{slurm.slurm_args}
        {Fore.LIGHTBLUE_EX}COMMAND
            {Fore.WHITE}{command}
    """)
    if slurm.command:
        subprocess.run(slurm.batch, shell=True)